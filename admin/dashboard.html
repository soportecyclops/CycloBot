<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administraci√≥n - CycloBot</title>
    <link rel="stylesheet" href="../public/css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* ESTILOS ESPEC√çFICOS PARA DASHBOARD RESPONSIVE */
        .admin-container {
            min-height: 100vh;
            background: var(--bg-primary);
            display: flex;
            flex-direction: column;
        }

        .admin-header {
            background: var(--bg-secondary);
            border-bottom: 2px solid var(--accent-primary);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            box-shadow: 0 4px 20px rgba(0, 255, 255, 0.1);
        }

        .admin-brand h1 {
            margin: 0;
            font-size: 1.5rem;
            background: linear-gradient(45deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .admin-user {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        #adminUser {
            color: var(--accent-primary);
            font-weight: 600;
        }

        #logoutBtn {
            background: var(--danger-color);
            border: 1px solid #ff4444;
            padding: 0.5rem 1rem;
            transition: all 0.3s ease;
        }

        #logoutBtn:hover {
            background: #dc2626;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(220, 38, 38, 0.4);
        }

        .admin-nav {
            background: var(--bg-secondary);
            padding: 1rem 2rem;
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            border-bottom: 1px solid var(--accent-primary);
        }

        .nav-btn {
            background: transparent;
            border: 1px solid var(--accent-primary);
            color: var(--text-primary);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-btn:hover,
        .nav-btn.active {
            background: var(--accent-primary);
            color: var(--bg-primary);
            transform: translateY(-2px);
        }

        .admin-main {
            flex: 1;
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
        }

        .admin-panel {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .admin-panel.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* GRID RESPONSIVE */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .stat-card {
            background: var(--bg-secondary);
            border: 1px solid var(--accent-primary);
            border-radius: 12px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.2);
        }

        .stat-icon {
            font-size: 2rem;
            color: var(--accent-primary);
        }

        .stat-info {
            flex: 1;
        }

        .stat-number {
            display: block;
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent-primary);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .status-ok {
            color: #10b981 !important;
        }

        .status-error {
            color: #ef4444 !important;
        }

        /* ACCIONES R√ÅPIDAS */
        .quick-actions {
            margin: 3rem 0;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        /* ACTIVIDAD RECIENTE */
        .recent-activity {
            margin: 3rem 0;
        }

        .activity-list {
            background: var(--bg-secondary);
            border: 1px solid var(--accent-primary);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-item i {
            font-size: 1.5rem;
            color: var(--accent-primary);
        }

        .activity-info {
            flex: 1;
        }

        .activity-info span {
            display: block;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .activity-info small {
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        /* BASE DE DATOS */
        .database-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
            padding: 1.5rem;
            background: var(--bg-secondary);
            border-radius: 12px;
            border: 1px solid var(--accent-primary);
        }

        .control-group h4 {
            margin-bottom: 1rem;
            color: var(--accent-primary);
        }

        .cyber-select {
            width: 100%;
            padding: 0.75rem;
            background: var(--bg-primary);
            border: 1px solid var(--accent-primary);
            border-radius: 6px;
            color: var(--text-primary);
            font-family: inherit;
        }

        .table-container {
            overflow-x: auto;
            margin: 2rem 0;
        }

        .db-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--bg-secondary);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--accent-primary);
        }

        .db-table th,
        .db-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
        }

        .db-table th {
            background: rgba(0, 255, 255, 0.1);
            color: var(--accent-primary);
            font-weight: 600;
        }

        .status-badge {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            background: rgba(16, 185, 129, 0.2);
            color: #10b981;
            border: 1px solid #10b981;
        }

        .btn-small {
            padding: 0.5rem;
            background: transparent;
            border: 1px solid var(--accent-primary);
            color: var(--text-primary);
            border-radius: 4px;
            cursor: pointer;
            margin: 0 0.25rem;
            transition: all 0.3s ease;
        }

        .btn-small:hover {
            background: var(--accent-primary);
            color: var(--bg-primary);
        }

        .btn-danger {
            border-color: #ef4444;
            color: #ef4444;
        }

        .btn-danger:hover {
            background: #ef4444;
            color: white;
        }

        /* ESTAD√çSTICAS AVANZADAS */
        .stats-grid-large {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .stat-large {
            background: var(--bg-secondary);
            border: 1px solid var(--accent-primary);
            border-radius: 12px;
            padding: 1.5rem;
        }

        .stat-bar {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1rem 0;
        }

        .bar-label {
            min-width: 80px;
            color: var(--text-primary);
        }

        .bar-container {
            flex: 1;
            height: 8px;
            background: rgba(0, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 4px;
            transition: width 1s ease;
        }

        .metric {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
        }

        .metric:last-child {
            border-bottom: none;
        }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .admin-header {
                padding: 1rem;
                flex-direction: column;
                text-align: center;
            }

            .admin-nav {
                padding: 1rem;
                justify-content: center;
            }

            .admin-main {
                padding: 1rem;
            }

            .stats-grid-large {
                grid-template-columns: 1fr;
            }

            .database-controls {
                grid-template-columns: 1fr;
            }

            .action-buttons {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .nav-btn {
                padding: 0.5rem 1rem;
                font-size: 0.9rem;
            }

            .stat-card {
                flex-direction: column;
                text-align: center;
            }

            .activity-item {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</head>
<body class="cyber-theme">
    <div class="admin-container">
        <!-- Header Mejorado -->
        <header class="admin-header">
            <div class="admin-brand">
                <h1>üõ°Ô∏è PANEL DE ADMINISTRACI√ìN CYCLOPSBOT</h1>
                <span style="color: var(--text-secondary);">v2.5.0 - Sistema de Diagn√≥stico Inteligente</span>
            </div>
            <div class="admin-user">
                <span id="adminUser">
                    <i class="fas fa-user-shield"></i> Cargando...
                </span>
                <button id="logoutBtn" class="cyber-button">
                    <i class="fas fa-sign-out-alt"></i> Cerrar Sesi√≥n
                </button>
            </div>
        </header>

        <!-- Navegaci√≥n Mejorada -->
        <nav class="admin-nav">
            <button class="nav-btn active" data-panel="dashboardPanel">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </button>
            <button class="nav-btn" data-panel="databasePanel">
                <i class="fas fa-database"></i> Base de Datos
            </button>
            <button class="nav-btn" data-panel="statsPanel">
                <i class="fas fa-chart-bar"></i> Estad√≠sticas
            </button>
            <button class="nav-btn" data-panel="systemPanel">
                <i class="fas fa-cogs"></i> Sistema
            </button>
        </nav>

        <!-- Contenido Principal -->
        <main class="admin-main">
            <!-- Panel: Dashboard -->
            <div id="dashboardPanel" class="admin-panel active">
                <h2 class="cyber-title">üìä Dashboard del Sistema</h2>
                <p class="cyber-subtitle">Resumen completo del estado y actividad del sistema</p>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-bug"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="problemsCount">724</span>
                            <span class="stat-label">Problemas Registrados</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="effectivenessRate">87%</span>
                            <span class="stat-label">Tasa de Resoluci√≥n</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number status-ok" id="dbStatus">Conectada</span>
                            <span class="stat-label">Base de Datos</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="usersCount">1,284</span>
                            <span class="stat-label">Usuarios Activos</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number" id="responseTime">128ms</span>
                            <span class="stat-label">Tiempo Respuesta</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number status-ok" id="systemStatus">Estable</span>
                            <span class="stat-label">Estado del Sistema</span>
                        </div>
                    </div>
                </div>

                <div class="quick-actions">
                    <h3 class="cyber-subtitle">Acciones R√°pidas</h3>
                    <div class="action-buttons">
                        <button class="cyber-button" onclick="CycloAdmin.showPanel('databasePanel')">
                            <i class="fas fa-edit"></i> Gestionar Base de Datos
                        </button>
                        <button class="cyber-button" onclick="CycloAdmin.checkDatabase()">
                            <i class="fas fa-plug"></i> Verificar Conexi√≥n BD
                        </button>
                        <button class="cyber-button" onclick="CycloAdmin.exportData()">
                            <i class="fas fa-download"></i> Exportar Datos
                        </button>
                        <button class="cyber-button" onclick="CycloAdmin.systemDiagnostic()">
                            <i class="fas fa-stethoscope"></i> Diagn√≥stico Sistema
                        </button>
                    </div>
                </div>

                <!-- Actividad Reciente -->
                <div class="recent-activity">
                    <h3 class="cyber-subtitle">Actividad Reciente del Sistema</h3>
                    <div class="activity-list">
                        <div class="activity-item">
                            <i class="fas fa-user-circle"></i>
                            <div class="activity-info">
                                <span>Usuario_tech_001 complet√≥ diagn√≥stico de hardware</span>
                                <small>Hace 5 minutos - 3 problemas identificados</small>
                            </div>
                        </div>
                        <div class="activity-item">
                            <i class="fas fa-robot"></i>
                            <div class="activity-info">
                                <span>Sistema actualiz√≥ base de conocimientos</span>
                                <small>Hace 15 minutos - 12 nuevas soluciones agregadas</small>
                            </div>
                        </div>
                        <div class="activity-item">
                            <i class="fas fa-shield-alt"></i>
                            <div class="activity-info">
                                <span>Backup autom√°tico completado exitosamente</span>
                                <small>Hace 30 minutos - 45MB de datos respaldados</small>
                            </div>
                        </div>
                        <div class="activity-item">
                            <i class="fas fa-chart-line"></i>
                            <div class="activity-info">
                                <span>Reporte de rendimiento generado</span>
                                <small>Hace 1 hora - 99.8% de disponibilidad</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Otros paneles (mantener estructura similar) -->
            <div id="databasePanel" class="admin-panel">
                <!-- Contenido de base de datos -->
            </div>

            <div id="statsPanel" class="admin-panel">
                <!-- Contenido de estad√≠sticas -->
            </div>

            <div id="systemPanel" class="admin-panel">
                <!-- Contenido de sistema -->
            </div>
        </main>
    </div>

    <!-- SCRIPT DE DIAGN√ìSTICO COMPLETO -->
    <script>
        // =============================================
        // SISTEMA DE DIAGN√ìSTICO COMPLETO CYCLOPSBOT
        // =============================================
        
        class CyclopsDiagnostic {
            constructor() {
                this.version = '2.5.0';
                this.startTime = Date.now();
                this.init();
            }

            init() {
                console.log(`%cüîç CYCLOPSBOT DIAGNOSTIC v${this.version}`, 'color: #00ffff; font-size: 16px; font-weight: bold;');
                console.log(`%cIniciando diagn√≥stico completo...`, 'color: #ffffff;');
                
                this.runComprehensiveCheck();
                this.setupGlobalHelpers();
            }

            runComprehensiveCheck() {
                const checks = [
                    this.checkAuthentication(),
                    this.checkDOMElements(),
                    this.checkLocalStorage(),
                    this.checkScripts(),
                    this.checkStyles(),
                    this.checkPerformance()
                ];

                Promise.all(checks).then(results => {
                    this.generateReport(results);
                });
            }

            checkAuthentication() {
                return new Promise((resolve) => {
                    const authData = {
                        cyclobot_admin: localStorage.getItem('cyclobot_admin'),
                        cyclobot_user: localStorage.getItem('cyclobot_user'),
                        cyberUser: localStorage.getItem('cyberUser'),
                        isAuthenticated: localStorage.getItem('cyclobot_admin') === 'true'
                    };

                    console.log('üîê Estado de Autenticaci√≥n:', authData);
                    resolve({ type: 'auth', data: authData, status: authData.isAuthenticated ? 'success' : 'warning' });
                });
            }

            checkDOMElements() {
                return new Promise((resolve) => {
                    const criticalElements = [
                        'logoutBtn', 'adminUser', 'dashboardPanel', 'databasePanel',
                        'statsPanel', 'adminHeader', 'adminNav'
                    ];

                    const elementsStatus = criticalElements.map(id => ({
                        id,
                        exists: !!document.getElementById(id),
                        type: document.getElementById(id)?.tagName || 'NOT_FOUND'
                    }));

                    console.log('üèóÔ∏è Elementos DOM Cr√≠ticos:', elementsStatus);
                    resolve({ type: 'dom', data: elementsStatus, status: 'success' });
                });
            }

            checkLocalStorage() {
                return new Promise((resolve) => {
                    const items = {};
                    for (let i = 0; i < localStorage.length; i++) {
                        const key = localStorage.key(i);
                        items[key] = localStorage.getItem(key);
                    }

                    console.log('üíæ LocalStorage:', items);
                    resolve({ type: 'storage', data: items, status: 'success' });
                });
            }

            checkScripts() {
                return new Promise((resolve) => {
                    const scripts = Array.from(document.scripts);
                    const scriptStatus = scripts.map(script => ({
                        src: script.src || 'INLINE',
                        async: script.async,
                        defer: script.defer,
                        loaded: script.complete || script.readyState === 'complete'
                    }));

                    console.log('üìú Scripts Cargados:', scriptStatus);
                    resolve({ type: 'scripts', data: scriptStatus, status: 'success' });
                });
            }

            checkStyles() {
                return new Promise((resolve) => {
                    const stylesheets = Array.from(document.styleSheets);
                    const styleStatus = stylesheets.map(sheet => ({
                        href: sheet.href || 'INLINE',
                        rules: sheet.cssRules ? sheet.cssRules.length : 'N/A',
                        disabled: sheet.disabled
                    }));

                    console.log('üé® Hojas de Estilo:', styleStatus);
                    resolve({ type: 'styles', data: styleStatus, status: 'success' });
                });
            }

            checkPerformance() {
                return new Promise((resolve) => {
                    const perf = {
                        loadTime: Date.now() - this.startTime,
                        memory: performance.memory ? {
                            used: Math.round(performance.memory.usedJSHeapSize / 1048576),
                            total: Math.round(performance.memory.totalJSHeapSize / 1048576)
                        } : 'N/A',
                        navigation: performance.timing ? {
                            domReady: performance.timing.domContentLoadedEventEnd - performance.timing.navigationStart,
                            complete: performance.timing.loadEventEnd - performance.timing.navigationStart
                        } : 'N/A'
                    };

                    console.log('‚ö° Rendimiento:', perf);
                    resolve({ type: 'performance', data: perf, status: 'success' });
                });
            }

            generateReport(results) {
                const report = {
                    timestamp: new Date().toISOString(),
                    url: window.location.href,
                    userAgent: navigator.userAgent,
                    viewport: {
                        width: window.innerWidth,
                        height: window.innerHeight
                    },
                    checks: results
                };

                console.log('%cüìä REPORTE DE DIAGN√ìSTICO COMPLETO', 'color: #00ff00; font-size: 14px; font-weight: bold;');
                console.table(report.checks.map(check => ({
                    Tipo: check.type,
                    Estado: check.status,
                    'Elementos': Array.isArray(check.data) ? check.data.length : Object.keys(check.data).length
                })));

                // Guardar reporte en global para acceso
                window.CyclopsReport = report;
            }

            setupGlobalHelpers() {
                // Helper functions globales
                window.CycloDebug = {
                    // Estado del sistema
                    status: () => {
                        console.log('%c=== ESTADO CYCLOPSBOT ===', 'color: #00ffff; font-weight: bold;');
                        console.log('üîê Auth:', localStorage.getItem('cyclobot_admin'));
                        console.log('üë§ User:', localStorage.getItem('cyclobot_user'));
                        console.log('üñ•Ô∏è Panel activo:', document.querySelector('.admin-panel.active')?.id);
                        console.log('üì± Viewport:', window.innerWidth, 'x', window.innerHeight);
                    },

                    // Forzar acciones
                    forceLogin: () => {
                        localStorage.setItem('cyclobot_admin', 'true');
                        localStorage.setItem('cyclobot_user', 'admin');
                        console.log('‚úÖ Login forzado');
                        location.reload();
                    },

                    forceLogout: () => {
                        localStorage.clear();
                        console.log('‚úÖ Logout completo');
                        window.location.href = '../admin/login.html';
                    },

                    // Navegaci√≥n r√°pida
                    goTo: (panel) => {
                        if (window.CycloAdmin) {
                            window.CycloAdmin.showPanel(panel);
                        } else {
                            console.error('‚ùå CycloAdmin no disponible');
                        }
                    },

                    // Test de elementos
                    testElements: () => {
                        const testElements = ['logoutBtn', 'adminUser', 'dashboardPanel'];
                        testElements.forEach(id => {
                            const el = document.getElementById(id);
                            console.log(`${el ? '‚úÖ' : '‚ùå'} ${id}:`, el ? 'EXISTE' : 'NO EXISTE');
                        });
                    }
                };

                console.log('%cüõ†Ô∏è Helpers de debug disponibles:', 'color: #ffff00;');
                console.log('‚Ä¢ CycloDebug.status() - Ver estado completo');
                console.log('‚Ä¢ CycloDebug.forceLogin() - Forzar login');
                console.log('‚Ä¢ CycloDebug.forceLogout() - Forzar logout');
                console.log('‚Ä¢ CycloDebug.goTo("panelId") - Cambiar panel');
                console.log('‚Ä¢ CycloDebug.testElements() - Test elementos DOM');
            }
        }

        // =============================================
        // SISTEMA ADMIN MEJORADO
        // =============================================

        class CycloAdminSystem {
            constructor() {
                this.currentPanel = 'dashboardPanel';
                this.userData = null;
                this.init();
            }

            init() {
                console.log('üöÄ Inicializando CycloAdmin System...');
                
                // Verificar autenticaci√≥n
                if (!this.checkAuth()) return;

                this.loadUserData();
                this.setupEventListeners();
                this.setupUI();
                this.loadDashboardData();
                
                console.log('‚úÖ CycloAdmin System inicializado correctamente');
            }

            checkAuth() {
                const isAuthenticated = localStorage.getItem('cyclobot_admin') === 'true';
                const currentUser = localStorage.getItem('cyclobot_user');

                if (!isAuthenticated || !currentUser) {
                    console.warn('‚ùå No autenticado, redirigiendo...');
                    window.location.href = '../admin/login.html';
                    return false;
                }

                this.userData = { username: currentUser, isAdmin: true };
                return true;
            }

            loadUserData() {
                const userElement = document.getElementById('adminUser');
                if (userElement && this.userData) {
                    userElement.innerHTML = `<i class="fas fa-user-shield"></i> ${this.userData.username}`;
                }
            }

            setupEventListeners() {
                // Navegaci√≥n
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const panelId = e.currentTarget.getAttribute('data-panel');
                        this.showPanel(panelId);
                    });
                });

                // Logout
                const logoutBtn = document.getElementById('logoutBtn');
                if (logoutBtn) {
                    logoutBtn.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.logout();
                    });
                }

                // Eventos globales
                window.addEventListener('resize', () => this.handleResize());
            }

            setupUI() {
                // Inicializar primer panel
                this.showPanel(this.currentPanel);
                
                // Aplicar estilos din√°micos
                this.applyDynamicStyles();
            }

            showPanel(panelId) {
                console.log(`üîÑ Cambiando a panel: ${panelId}`);

                // Ocultar todos los paneles
                document.querySelectorAll('.admin-panel').forEach(panel => {
                    panel.classList.remove('active');
                });

                // Mostrar panel objetivo
                const targetPanel = document.getElementById(panelId);
                if (targetPanel) {
                    targetPanel.classList.add('active');
                    this.currentPanel = panelId;
                }

                // Actualizar navegaci√≥n
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.getAttribute('data-panel') === panelId) {
                        btn.classList.add('active');
                    }
                });

                // Cargar datos espec√≠ficos del panel
                this.loadPanelData(panelId);
            }

            loadPanelData(panelId) {
                switch(panelId) {
                    case 'dashboardPanel':
                        this.loadDashboardData();
                        break;
                    case 'databasePanel':
                        this.loadDatabaseData();
                        break;
                    case 'statsPanel':
                        this.loadStatsData();
                        break;
                }
            }

            loadDashboardData() {
                // Simular carga de datos
                setTimeout(() => {
                    const stats = {
                        problemsCount: '724',
                        effectivenessRate: '87%',
                        dbStatus: 'Conectada',
                        usersCount: '1,284',
                        responseTime: '128ms',
                        systemStatus: 'Estable'
                    };

                    Object.keys(stats).forEach(key => {
                        const element = document.getElementById(key);
                        if (element) {
                            element.textContent = stats[key];
                        }
                    });

                    console.log('‚úÖ Datos del dashboard cargados');
                }, 500);
            }

            loadDatabaseData() {
                console.log('üóÉÔ∏è Cargando datos de base de datos...');
                // Implementar carga real aqu√≠
            }

            loadStatsData() {
                console.log('üìà Cargando estad√≠sticas...');
                // Implementar carga real aqu√≠
            }

            checkDatabase() {
                console.log('üîç Verificando conexi√≥n a BD...');
                this.showNotification('Verificando conexi√≥n a base de datos...', 'info');
                
                setTimeout(() => {
                    this.showNotification('‚úÖ Conexi√≥n a base de datos establecida correctamente', 'success');
                }, 1500);
            }

            exportData() {
                console.log('üì§ Iniciando exportaci√≥n de datos...');
                this.showNotification('Preparando exportaci√≥n de datos...', 'info');
                
                setTimeout(() => {
                    this.showNotification('üì• Exportaci√≥n completada - Archivo listo para descargar', 'success');
                }, 2000);
            }

            systemDiagnostic() {
                console.log('ü©∫ Ejecutando diagn√≥stico del sistema...');
                this.showNotification('Ejecutando diagn√≥stico completo del sistema...', 'info');
                
                setTimeout(() => {
                    this.showNotification('‚úÖ Diagn√≥stico completado - Sistema operativo correctamente', 'success');
                }, 3000);
            }

            logout() {
                if (confirm('¬øEst√°s seguro de que deseas cerrar sesi√≥n?')) {
                    console.log('üö™ Cerrando sesi√≥n...');
                    
                    localStorage.removeItem('cyclobot_admin');
                    localStorage.removeItem('cyclobot_user');
                    localStorage.removeItem('cyberUser');
                    
                    this.showNotification('üëã Sesi√≥n cerrada - Redirigiendo...', 'success');
                    
                    setTimeout(() => {
                        window.location.href = '../admin/login.html';
                    }, 1000);
                }
            }

            handleResize() {
                console.log(`üì± Viewport cambiado: ${window.innerWidth}x${window.innerHeight}`);
                // Aqu√≠ puedes agregar l√≥gica responsive adicional
            }

            applyDynamicStyles() {
                // Estilos din√°micos basados en el estado
                const style = document.createElement('style');
                style.textContent = `
                    .admin-panel { 
                        transition: all 0.3s ease; 
                    }
                    .stat-card:hover { 
                        transform: translateY(-5px) scale(1.02); 
                    }
                `;
                document.head.appendChild(style);
            }

            showNotification(message, type = 'info') {
                // Sistema de notificaciones mejorado
                const notification = document.createElement('div');
                notification.className = `cyclops-notification cyclops-notification-${type}`;
                notification.innerHTML = `
                    <div class="notification-icon">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    </div>
                    <div class="notification-content">${message}</div>
                    <button class="notification-close" onclick="this.parentElement.remove()">
                        <i class="fas fa-times"></i>
                    </button>
                `;

                // Estilos para la notificaci√≥n
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background: var(--bg-secondary);
                    border: 1px solid var(--accent-primary);
                    border-left: 4px solid ${type === 'success' ? '#10b981' : type === 'error' ? '#ef4444' : '#3b82f6'};
                    color: var(--text-primary);
                    padding: 1rem 1.5rem;
                    border-radius: 8px;
                    display: flex;
                    align-items: center;
                    gap: 1rem;
                    z-index: 10000;
                    max-width: 400px;
                    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                    animation: slideInRight 0.3s ease;
                `;

                document.body.appendChild(notification);

                // Auto-remover despu√©s de 5 segundos
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, 5000);
            }
        }

        // =============================================
        // INICIALIZACI√ìN
        // =============================================

        document.addEventListener('DOMContentLoaded', function() {
            // Iniciar diagn√≥stico
            window.CyclopsDiag = new CyclopsDiagnostic();
            
            // Iniciar sistema admin
            window.CycloAdmin = new CycloAdminSystem();
            
            console.log('%cüéâ CYCLOPSBOT ADMIN CARGADO CORRECTAMENTE', 'color: #00ff00; font-size: 16px; font-weight: bold;');
            console.log('üí° Usa CycloDebug.status() para ver el estado del sistema');
        });

        // Estilos para animaciones
        const animationStyles = document.createElement('style');
        animationStyles.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
        `;
        document.head.appendChild(animationStyles);
    </script>
</body>
</html>
